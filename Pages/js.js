const Level1 = [
    {
        Question : 'จํานวนในข้อใดเขียนในรูปการกระจายได้ดังนี้ 20 +0.3+ 1 + 0.004' ,
        QuestionImg : '',
        Choice : ['231.004' , '231.4' , '21.304' , '21.34'] ,
        Answer : '21.304',
    },
    {
        Question : 'ข้อใดแสดงจํานวนเฉพาะระหว่าง 12 กับ 23' ,
        QuestionImg : '',
        Choice : ['13 17 19' , '13 17 19 23' , '13 15 17 19 21' , '13 15 17 19 23'] ,
        Answer : '13 17 19',
    },
    {
        Question : 'นักเรียนชั้นประถมศึกษาปีที่ 6 ห้องหนึ่ง ได้คะแนนเฉลี่ยวิชาคณิตศาสตร์เป็น 36.995 \nถ้าต้องการคะแนนเฉลี่ยเป็นทศนิยมหนึ่งตําแหน่ง \nจะตรงกับตัวเลือกในข้อใด' ,
        QuestionImg : '',
        Choice : ['36.8' , '36.9' , '37.0' , '37.9'] ,
        Answer : '37.0',
    },
    {
        Question : 'ตัวเลข 8 ในข้อใดมีค่ามากที่สุด' ,
        QuestionImg : '',
        Choice : ['10,463,821' , '21,682,020' , '18,362,500' , '46,558,000'] ,
        Answer : '18,362,500',
    },
    {
        Question : '13.7+5.81=?' ,
        QuestionImg : '',
        Choice : ['19.51' , '19.52' , '18.51' , '18.52'] ,
        Answer : '19.51',
    },
    {
        Question : 'ข้อใดต่อไปนี้ถูกต้อง' ,
        QuestionImg : '',
        Choice : ['{1} ∈ {1, 2, 3}' , '{2} ⊂ {1, 2, 3}' , '{{3}} ∈ {1, 2, 3}' , '{0} = ∅'] ,
        Answer : '{2} ⊂ {1, 2, 3}',
    },
    {
        Question : 'กำหนด A = {1, 2, 3} เซตที่เท่ากับเซต A คือข้อใด' ,
        QuestionImg : '',
        Choice : ['{1, {2, 3}}' , '{{2}, 3, 1}' , '{3, {1}, 2}' , '{1, 3, 2}'] ,
        Answer : '{1, 3, 2}',
    },
    {
        Question : 'กำหนดให้ A = {1, 2, 3, {4, 5}} ข้อใดไม่ถูกต้อง' ,
        QuestionImg : '',
        Choice : ['1 ∈ A' , '{4,5} ∈ A' , '2 ⊂ A' , '{3} ⊂ A'] ,
        Answer : '2 ⊂ A',
    },
    {
        Question : 'กำหนดให้ A = {2, 4, 6, 8, 10} ; P(A) มีสมาชิกกี่จำนวน' ,
        QuestionImg : '',
        Choice : ['5 จำนวน' , '10 จำนวน' , '16 จำนวน' , '32 จำนวน'] ,
        Answer : '5 จำนวน',
    },
    {
        Question : 'กำหนด B = {0, -1} สับเซตแท้ของเซต B ตรงกับข้อใด' ,
        QuestionImg : '',
        Choice : ['{0, -1}' , '∅, {0}, {-1}' , '∅, {0}, {-1}, {0, -1}' , '{0}, {-1}, {0, -1}'] ,
        Answer : '∅, {0}, {-1}, {0, -1}',
    },
    {
        Question: "หาค่าของ 3! (3 factorial)",
        QuestionImg : '',
        Choice: ["3", "6", "9", "12"],
        Answer: "6"
    },
]

const Level2 = [
    {
        Question: "หาค่าของ 5^2 (5 ยกกำลัง 2)",
        QuestionImg : '',
        Choice: ["10", "25", "50", "125"],
        Answer: "25"
    },
    {
        Question: "ถ้า a = 4 และ b = 7, ค่าของ a + b เท่ากับเท่าไหร่?",
        QuestionImg : '',
        Choice: ["11", "12", "13", "14"],
        Answer: "11"
    },
    {
        Question: "หาค่าของ 2/3 หารด้วย 1/4",
        QuestionImg : '',
        Choice: ["1/2", "1/3", "2/3", "8/3"],
        Answer: "8/3"
    },
    {
        Question: "ถ้า x = 10, ค่าของ x^2 - 5x + 6 เท่ากับเท่าไหร่?",
        QuestionImg : '',
        Choice: ["26", "36", "46", "56"],
        Answer: "56"
    },
    {
        Question: "หาค่าของ √16 (รากที่สองของ 16)",
        QuestionImg : '',
        Choice: ["2", "4", "6", "8"],
        Answer: "4"
    },
    {
        Question: "ถ้า 2x - 5 = 11, ค่าของ x เท่ากับเท่าไหร่?",
        QuestionImg : '',
        Choice: ["-3", "-2", "3", "8"],
        Answer: "8"
    },
    {
        Question: "หาค่าของ 4/5 คูณด้วย 15/2",
        QuestionImg : '',
        Choice: ["6", "12", "15/2", "30/5"],
        Answer: "6"
    },
    {
        Question: "ถ้า x = 3 และ y = 7, ค่าของ 2x + 3y เท่ากับเท่าไหร่?",
        QuestionImg : '',
        Choice: ["21", "23", "25", "27"],
        Answer: "27"
    },
    {
        Question: "หาค่าของ 9/4 หารด้วย 3/2",
        QuestionImg : '',
        Choice: ["3/2", "6/4", "27/8", "18/6"],
        Answer: "3/2"
    },
    {
        Question: "หาผลรวมของ 3/5 และ 2/7",
        "QuestionImg": "",
        Choice: ["1/35", "11/35", "25/12", "31/35"],
        Answer: "31/35"
    }
]
    

const Level3 = [
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_1.PNG',
        Choice : ['-1/2' , '-1/3' , '1/3' , '1/2'] ,
        Answer : '1/2',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_2.PNG',
        Choice : ['[-10,-8)' , '[-8,-6)' , '[-4,-2)' , '[-6,-4)'] ,
        Answer : '[-4,-2)',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_3.PNG',
        Choice : ['-1/2' , '-1/3' , '1/3' , '1/√2'] ,
        Answer : '1/3',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_4.PNG',
        Choice : ['13' , '14' , '15' , '16'] ,
        Answer : '13',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_5.PNG',
        Choice : ['60' , '61' , '62' , '62.5'] ,
        Answer : '61',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_6.PNG',
        Choice : ['2/15' , '1/5' , '7/30' , '4/15'] ,
        Answer : '2/15',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_7.PNG',
        Choice : ['4' , '5' , '6' , '7'] ,
        Answer : '4',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_8.PNG',
        Choice : [ '5' , '6' , '7' , '8' ] ,
        Answer : '8',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_9.PNG',
        Choice : ['716' , '720' , '766' , '826'] ,
        Answer : '826',
    },
    {
        Question : '' ,
        QuestionImg : '../assests/img/hard_10.PNG',
        Choice : ['-4' , '-2' , '0' , '2'] ,
        Answer : '2/15',
    },
    {
        Question : 'ใครคือคนเสื้อสีขาว' ,
        QuestionImg : '../assests/img/135225987_3650652181679382_7830004272386974848_n.jpg',
        Choice : ['อ.จ๊าก' , 'อ.โจ๊ก' , 'อ.เจ๊ก' , 'อ.จู๊ค'] ,
        Answer : 'อ.โจ๊ก',
    },
]
    

const ButtonColor = [ '#3cdfff' , '#66CC33' , '#8a02b2' , '#ff9967']

window.addEventListener('load', function() {
    const loadingScreen = document.getElementById('loadingScreen');

    // Hide the loading screen
    loadingScreen.style.display = 'none';

});

window.addEventListener('DOMContentLoaded', function() {
    // Retrieve the level from localStorage
    var receivedLevel = localStorage.getItem('currentLevel');
    if (receivedLevel) {
        console.log('level receive :', receivedLevel);
        QuestionStart(receivedLevel)
    } else {
        window.location.href = '../index.html';
    }

    localStorage.clear();
});


function Noti(Text ) {
    if (Text ) {
        const Noti = document.getElementById('Notification');
        const text = Noti.querySelector("span");
        const background = document.getElementById('container');

        background.classList.add('not-focus') ;
        Noti.style.display = 'flex'
        text.innerHTML = Text

    } else {
        return;
    }
}

function BacktoMainPage() {
    window.location.href = '../index.html';
}

function QuestionStart(data) {
    if (data) {
        const levels = {
            Level1: Level1,
            Level2: Level2,
            Level3: Level3,
        };

        const levelQuestions = levels[data];
    
        if (levelQuestions) {
            let currentQuestionIndex = 0;
    
            const Question = document.getElementById('Question');
            const QuestionImg = document.getElementById('Question-img');
            const ChoiceList = document.getElementById('answer');
    
            function displayQuestion(questionObj) {
                Question.textContent = 'Question : ' + questionObj.Question;
                if (questionObj.QuestionImg != '') {
                    QuestionImg.src = questionObj.QuestionImg;
                } else {
                    QuestionImg.style = 'display :none;'
                }
    
                ChoiceList.innerHTML = ''; // Clear previous choices
    
                questionObj.Choice.forEach((choice, index) => {
                    const choiceID = 'Choice' + (index + 1);
                    const choiceButton = document.createElement('button');
                    choiceButton.className = 'Choice';
                    choiceButton.id = choiceID;
                    choiceButton.textContent = choice;
                    choiceButton.style = 'background:'+ ButtonColor[index] +';'
                    choiceButton.addEventListener('click', () => checkAnswer(choice, questionObj.Answer));
                    ChoiceList.appendChild(choiceButton);
                });
            }
    
            function checkAnswer(selectedAnswer, correctAnswer) {
                if (selectedAnswer === correctAnswer) {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < levelQuestions.length) {
                        displayQuestion(levelQuestions[currentQuestionIndex]);
                    } else {
                        const text = "คุณตอบคำถามหมดแล้ว \nเก่งมากลองโหมดยากกว่านี้ดู";
                        Noti(text)
                    }
                } else {
                    const text = "คุณผิด ว้ายยยย \n ลองใหม่รอบหน้านะน้องง \n คำตอบที่ถูก คือ "+ correctAnswer + " ต่างหาก ว้ายๆๆๆ";
                    Noti(text)
                }
            }
    
            displayQuestion(levelQuestions[currentQuestionIndex]);
        }
    }
}